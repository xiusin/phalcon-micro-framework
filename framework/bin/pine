#!/usr/bin/env php
<?php
use Pine\Application;
use Phalcon\Di\FactoryDefault\Cli as CliDi;

$di = new CliDi();

$app = new Application(dirname(__DIR__), $di);

define("PINE_BIN_PATH", __FILE__);

$app->bootstrap();

$application = new \Crunz\Application("pine", "");

$application->setAutoExit(true);

$application->setCatchExceptions(true);

$di->setShared("console", $application);

try {
    $app->runCommand();
} catch (Throwable $e) {
    echo $e->getMessage();
}
